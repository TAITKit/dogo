<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src="./stackedit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/core.js"></script>
<style>
  textarea#md {
    display: none;
  }
#mydiv {
  position: absolute;
  z-index: 123456788;
  background-color: #f1f1f1;
  border: 1px solid #d3d3d3;
  text-align: center;
}

#mydivheader {
  padding: 5px;
  cursor: move;
  z-index: 123456789;
  background-color: #000000;
  color: #fff;
}
</style>
</head>
<body>
	<select id="selectbox" onChange="getOptionValue()" style="position: absolute; top:5; right:0;">
	<!--{{{ 35 opt ions here-->
		<option value=0 selected>ML Lecture 0-1: Introduction of Machine Learning</option>
		<option value=1>ML Lecture 0-2: Why we need to learn machine learning?</option>
		<option value=2>ML Lecture 1: Regression - Case Study</option>//
		<option value=3>ML Lecture 1: Regression - Demo</option>
		<option value=4>ML Lecture 2: Where does the error come from?</option>
		<option value=5>ML Lecture 3-1: Gradient Descent</option>
		<option value=6>ML Lecture 3-2: Gradient Descent (Demo by AOE)</option>
		<option value=7>ML Lecture 3-3: Gradient Descent (Demo by Minecraft)</option>
		<option value=8>ML Lecture 4: Classification</option>
		<option value=9>ML Lecture 5: Logistic Regression</option>
		<option value=10>ML Lecture 6: Brief Introduction of Deep Learning</option>
		<option value=11>ML Lecture 7: Backpropagation</option>
		<option value=12>ML Lecture 8-1: “Hello world” of deep learning</option>
		<option value=13>ML Lecture 8-2: Keras 2.0</option>
		<option value=14>ML Lecture 8-3: Keras Demo</option>
		<option value=15>ML Lecture 9-1: Tips for Training DNN</option>
		<option value=16>ML Lecture 9-2: Keras Demo 2</option>
		<option value=17>ML Lecture 9-3: Fizz Buzz in Tensorflow (sequel)</option>
		<option value=18>ML Lecture 10: Convolutional Neural Network</option>
		<option value=19>ML Lecture 11: Why Deep?</option>
		<option value=20>ML Lecture 12: Semi-supervised</option>
		<option value=21>ML Lecture 13: Unsupervised Learning - Linear Methods</option>
		<option value=22>ML Lecture 14: Unsupervised Learning - Word Embedding</option>
		<option value=23>ML Lecture 15: Unsupervised Learning - Neighbor Embedding</option>
		<option value=24>ML Lecture 16: Unsupervised Learning - Auto-encoder</option>
		<option value=25>ML Lecture 17: Unsupervised Learning - Deep Generative Model (Part I)</option>
		<option value=26>ML Lecture 18: Unsupervised Learning - Deep Generative Model (Part II)</option>
		<option value=27>ML Lecture 19: Transfer Learning</option>
		<option value=28>ML Lecture 20: Support Vector Machine (SVM)</option>
		<option value=29>ML Lecture 21-1: Recurrent Neural Network (Part I)</option>
		<option value=30>ML Lecture 21-2: Recurrent Neural Network (Part II)</option>
		<option value=31>ML Lecture 22: Ensemble</option>
		<option value=32>ML Lecture 23-1: Deep Reinforcement Learning</option>
		<option value=33>ML Lecture 23-2: Policy Gradient (Supplementary Explanation)</option>
		<option value=34>ML Lecture 23-3: Reinforcement Learning (including Q-learning)</option>
	<!--}}}-->
	</select>
	<div id="mydiv" style="top:40; right:5" >
	<div id="mydivheader">Click here to move</div>
	<iframe id="video_link" src="" width=400rem height=225rem frameborder="0" allowfullscreen></iframe>
	</div>

<iframe id="frmFile" src="caption/new/0.sbv" style="display: none;"></iframe>
<div>
  <textarea id="md" style="position: relative; z-index: 2"></textarea>
  <table>
	<tr id="row_load">
		<td>Select a File to Load:</td>
		<td><input type="file" id="fileToLoad">
		<td><button onclick="load()">Load Selected File</button><td>
	</tr>
  <tr id="load_caption">
    <td>Load caption: </td>
    <td>
      <select id="selectbox-sub" onChange="loadurl()">
    <!--{{{ 35 opt ions here-->
      <option value=0 selected>ML Lecture 0-1: Introduction of Machine Learning</option>
      <option value=1>ML Lecture 0-2: Why we need to learn machine learning?</option>
      <option value=2>ML Lecture 1: Regression - Case Study</option>//
      <option value=3>ML Lecture 1: Regression - Demo</option>
      <option value=4>ML Lecture 2: Where does the error come from?</option>
      <option value=5>ML Lecture 3-1: Gradient Descent</option>
      <option value=6>ML Lecture 3-2: Gradient Descent (Demo by AOE)</option>
      <option value=7>ML Lecture 3-3: Gradient Descent (Demo by Minecraft)</option>
      <option value=8>ML Lecture 4: Classification</option>
      <option value=9>ML Lecture 5: Logistic Regression</option>
      <option value=10>ML Lecture 6: Brief Introduction of Deep Learning</option>
      <option value=11>ML Lecture 7: Backpropagation</option>
      <option value=12>ML Lecture 8-1: “Hello world” of deep learning</option>
      <option value=13>ML Lecture 8-2: Keras 2.0</option>
      <option value=14>ML Lecture 8-3: Keras Demo</option>
      <option value=15>ML Lecture 9-1: Tips for Training DNN</option>
      <option value=16>ML Lecture 9-2: Keras Demo 2</option>
      <option value=17>ML Lecture 9-3: Fizz Buzz in Tensorflow (sequel)</option>
      <option value=18>ML Lecture 10: Convolutional Neural Network</option>
      <option value=19>ML Lecture 11: Why Deep?</option>
      <option value=20>ML Lecture 12: Semi-supervised</option>
      <option value=21>ML Lecture 13: Unsupervised Learning - Linear Methods</option>
      <option value=22>ML Lecture 14: Unsupervised Learning - Word Embedding</option>
      <option value=23>ML Lecture 15: Unsupervised Learning - Neighbor Embedding</option>
      <option value=24>ML Lecture 16: Unsupervised Learning - Auto-encoder</option>
      <option value=25>ML Lecture 17: Unsupervised Learning - Deep Generative Model (Part I)</option>
      <option value=26>ML Lecture 18: Unsupervised Learning - Deep Generative Model (Part II)</option>
      <option value=27>ML Lecture 19: Transfer Learning</option>
      <option value=28>ML Lecture 20: Support Vector Machine (SVM)</option>
      <option value=29>ML Lecture 21-1: Recurrent Neural Network (Part I)</option>
      <option value=30>ML Lecture 21-2: Recurrent Neural Network (Part II)</option>
      <option value=31>ML Lecture 22: Ensemble</option>
      <option value=32>ML Lecture 23-1: Deep Reinforcement Learning</option>
      <option value=33>ML Lecture 23-2: Policy Gradient (Supplementary Explanation)</option>
      <option value=34>ML Lecture 23-3: Reinforcement Learning (including Q-learning)</option>
    <!--}}}-->
    </select></td>
  </tr>
  <tr id="row_save">
		<td>Filename to Save As:</td>
		<td><input id="inputFileNameToSaveAs"></input></td>
		<td><button onclick="save()">Save Text to File</button></td>
	</tr>
  </table>
</div>
</body>
<script>
const el = document.getElementById('md');
const stackedit = new Stackedit();

// Listen to StackEdit events and apply the changes to the textarea.
stackedit.on('fileChange', (file) => {
  el.value = file.content.text;
});

function save() {
  var textToWrite = document.getElementById('md').value;
  var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
  var fileNameToSaveAs = document.getElementById("inputFileNameToSaveAs").value;

  var downloadLink = document.createElement("a");
  downloadLink.download = fileNameToSaveAs;
  downloadLink.innerHTML = "Download File";
  if (window.webkitURL != null)
  {
    // Chrome allows the link to be clicked
    // without actually adding it to the DOM.
    downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
  }
  else
  {
    // Firefox requires the link to be added to the DOM
    // before it can be clicked.
    downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
    downloadLink.onclick = destroyClickedElement;
    downloadLink.style.display = "none";
    document.body.appendChild(downloadLink);
  }

  downloadLink.click();
}

function destroyClickedElement(event) {
  document.body.removeChild(event.target);
}

function load() {
  var fileToLoad = document.getElementById("fileToLoad").files[0];

  var fileReader = new FileReader();
  fileReader.onload = function(fileLoadedEvent) {
    var textFromFileLoaded = fileLoadedEvent.target.result;
    el.value = textFromFileLoaded;
    console.log("textarea after read:", el.value);
  };
  fileReader.readAsText(fileToLoad, "UTF-8");
  // Open the iframe
  setTimeout(function() {
    stackedit.openFile({
      name: 'Filename', // with an optional filename
      content: {
        text: el.value // and the Markdown content.
      }
    });
    }, 300
  );
  var tmp = document.getElementById("row_load");
  tmp.style.display = 'none';
}

function loadurl() {
  var theFrame = document.getElementById("frmFile");
  theFrame.src = "caption/new/" + document.getElementById("selectbox-sub").value + ".sbv";
  setTimeout(function() {
    stackedit.openFile({
      name: 'Filename', // with an optional filename
      content: {
        text: document.getElementById("frmFile").contentWindow.document.body.childNodes[0].innerHTML
      }
    });
    }, 1000
  );
}
	youtube_url_list = [
	//{{{
		"http://www.youtube.com/embed/CXgbekl66jc", 
		"https://youtube.com/embed/On1N8u1z2Ng", 
		"https://youtube.com/embed/fegAeph9UaA", 
		"https://youtube.com/embed/1UqCjFQiiy0", 
		"https://youtube.com/embed/D_S6y0Jm6dQ", 
		"https://youtube.com/embed/yKKNr-QKz2Q", 
		"https://youtube.com/embed/1_HBTJyWgNA", 
		"https://youtube.com/embed/wzPAInDF_gI", 
		"https://youtube.com/embed/fZAZUYEeIMg", 
		"https://youtube.com/embed/hSXFuypLukA", 
		"https://youtube.com/embed/Dr-WRlEFefw", 
		"https://youtube.com/embed/ibJpTrp5mcE", 
		"https://youtube.com/embed/Lx3l4lOrquw", 
		"https://youtube.com/embed/5BJDJd-dzzg", 
		"https://youtube.com/embed/L8unuZNpWw8", 
		"https://youtube.com/embed/xki61j7z-30", 
		"https://youtube.com/embed/Ky1ku1miDow", 
		"https://youtube.com/embed/F1vek6ULo9w", 
		"https://youtube.com/embed/FrKWiRv254g", 
		"https://youtube.com/embed/XsC9byQkUH8", 
		"https://youtube.com/embed/fX_guE7JNnY", 
		"https://youtube.com/embed/iwh5o_M4BNU", 
		"https://youtube.com/embed/X7PH3NuYW0Q", 
		"https://youtube.com/embed/GBUEjkpoxXc", 
		"https://youtube.com/embed/Tk5B4seA-AU", 
		"https://youtube.com/embed/YNUek8ioAJk", 
		"https://youtube.com/embed/8zomhgKrsmQ", 
		"https://youtube.com/embed/qD6iD4TFsdQ", 
		"https://youtube.com/embed/QSEPStBgwRQ", 
		"https://youtube.com/embed/xCGidAeyS4M", 
		"https://youtube.com/embed/rTqmWlnwz_0", 
		"https://youtube.com/embed/tH9FH1DH5n0", 
		"https://youtube.com/embed/W8XF3ME8G2I", 
		"https://youtube.com/embed/y8UPGr36ccI", 
		"https://youtube.com/embed/2-JNBzCq77c"
	//}}}
	]
	window.onload = function(){
		document.getElementById("video_link").src=youtube_url_list[document.getElementById("selectbox").value];
	} 
	function getOptionValue() {
		document.getElementById("video_link").src=youtube_url_list[document.getElementById("selectbox").value];
		document.getElementById("sbv_files").src= "caption/" + document.getElementById("selectbox").value + ".html";
	}
// Make the DIV element draggable:
dragElement(document.getElementById("mydiv"));

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {
    // if present, the header is where you move the DIV from:
    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    // otherwise, move the DIV from anywhere inside the DIV: 
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    elmnt.style.right = "auto"
  }

  function closeDragElement() {
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.onmousemove = null;
  }
}
</script>
